<!DOCTYPE html>
  <html>
    <head>
      <script src="//cdn.jsdelivr.net/npm/phaser@3.24.1/dist/phaser.min.js"></script>
      	<script src="js/index.js"></script>
      <link rel="stylesheet" href="css/style.css" type="text/css"/>
      </head>
    <body>
	<script>
var config = {
        type: Phaser.AUTO,
        width:1000,
    	height: 800,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 300 },
                debug: false
            }
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };


var player;
var cursor;
var platform;

var game = new Phaser.Game(config);

function preload() {
   this.load.image('map', 'maps/sheld.png');
   this.load.spritesheet('playerSprite', 'animazioni/3D/Run-begin/3D_spritesheet_run_begin.png', { frameWidth: 64, frameHeight: 64 } );
}

function create() {   
    
	platform = this.physics.add.staticGroup();
	platform.create(960,540,'map').setScale(0.5).refreshBody();
 	player = this.physics.add.sprite(game.width/2,game.height/2, 'playerSprite'); 
	player.setBounce(0.2);
        player.setCollideWorldBounds(true);	
    //animazioni

	this.anims.create({
	key:'right',
	frames: this.anims.generateFrameNumbers('playerSprite', {start:0, end:3}),
	frameRate: 20,
	repeat: -1

	})
	this.anims.create({
	key:'left',
	frames: this.anims.generateFrameNumbers('playerSprite', {start:0, end:3}),
	frameRate: 20,
	repeat: -1

	})
	this.anims.create({
	key:'turn',
	frames: [{key: 'playerSprite', frame:4}],
	frameRate: 20
	})
cursor=this.input.keyboard.createCursorKeys();
}



function update() {
	
    if (cursor.left.isDown) {
    	//this.player.flipX=false;
	player.setVelocityX(-170);
	player.anims.play('left',true);
    } else if (cursor.right.isDown) {
    	//this.player.flipX=true,
	player.setVelocityX(170);
	player.anims.play('right',true);
    }/*else {
            player.setVelocityX(0);
            player.anims.play('turn');
    }*/
}
	</script>
      </body>
  </html>
